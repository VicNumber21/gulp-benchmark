/*!
 *  gulp-benchmark - v2.0.0 - Fri Mar 04 2016 20:05:47 GMT-0500 (EST)
 *  git://github.com/mtraynham/gulp-benchmark.git
 *  Copyright 2016-2016 Matt Traynham <skitch920@gmail.com>
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loggers=t.reporters=void 0,t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={options:{},loaders:[],logger:M.base,failOnError:!0,reporters:[q.etalon()]},r=(0,c["default"])(e,t);return r.loaders=(0,w.toArray)(r.loaders).concat(p.base),r.logger=(0,c["default"])(r.logger,M.silent),r.reporters=(0,w.toArray)(r.reporters),r.outputs=[],a["default"].obj(function(e,t,n){function o(e){if(r.failOnError){var t=new d.PluginError(E,new Error(e),{showStack:!0});(0,d.log)(t.toString()),u.emit("error",t)}}var u=this,a=r.loaders.map(function(t){return t(e,r)}).filter(function(e){return e instanceof s["default"].Suite});a.length||o("Benchmark failed on loading");var i=a[0],f=r.logger;f.onStart(i,e.path),i.on("cycle",function(e){return f.onCycle(e)}),i.on("complete",function(){var t=this,s=(0,l["default"])(this.map(function(e){return e.error})).length>0;s?(f.onError(this,e.path),o("Benchmark failed on loading")):(f.onComplete(this,e.path),r.reporters.forEach(function(n,o){return n(t,e.path,r.outputs[o]=r.outputs[o]||{storage:null})})),n()}),i.run()},function(e){var t=this;try{r.outputs.forEach(function(e){var r=e.storage;r&&t.push(new d.File({cwd:process.cwd(),path:r.path,contents:new Buffer(r.contents())}))})}catch(n){this.emit("error",new d.PluginError(E,n,{showStack:!0}))}e()})};var o=r(1),s=n(o),u=r(2),a=n(u),i=r(3),l=n(i),f=r(4),c=n(f),d=r(5),p=r(6),h=r(13),g=r(19),m=n(g),v=r(20),x=n(v),y=r(22),_=n(y),b=r(23),j=n(b),w=r(14),E="gulp-benchmark",q=t.reporters={csv:m["default"],etalon:x["default"],fastest:_["default"],json:j["default"]},M=t.loggers={base:h.base,silent:h.silent}},function(e,t){e.exports=require("benchmark")},function(e,t){e.exports=require("through2")},function(e,t){e.exports=require("lodash/compact")},function(e,t){e.exports=require("lodash/defaults")},function(e,t){e.exports=require("gulp-util")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=r(12)((0,v.resolve)(process.cwd(),e.path)),o=t.options,s={},a=void 0;if(n instanceof u["default"].Suite)return n;if(n instanceof u["default"])s.name=(0,v.basename)(e.path,".js"),a=[n];else if((0,d["default"])(n)){var l=(0,v.basename)(e.path,".js");s.name=l,a=[{name:l,fn:n}]}else if((0,d["default"])(n.fn)){s.name=(0,v.basename)(e.path,".js");var c=(0,f["default"])({},n);c.name=c.name||s.name,a=[c]}else(0,m["default"])(n.tests)&&(s.name=n.name,o=(0,f["default"])({},n),delete o.name,delete o.fn,delete o.test,a=n.tests.map(function(e,t){return e=(0,d["default"])(e)?{fn:e}:e,e.name=e.name||(0,h["default"])(t)?"<Test #"+(t+1)+">":t,e}));var p=new u["default"].Suite(s.name,s);return a.forEach(function(e){return p.add((0,i["default"])(e,o))}),p}Object.defineProperty(t,"__esModule",{value:!0}),t.base=o;var s=r(1),u=n(s),a=r(4),i=n(a),l=r(7),f=n(l),c=r(8),d=n(c),p=r(9),h=n(p),g=r(10),m=n(g),v=r(11)},function(e,t){e.exports=require("lodash/extend")},function(e,t){e.exports=require("lodash/isFunction")},function(e,t){e.exports=require("lodash/isNumber")},function(e,t){e.exports=require("lodash/isObject")},function(e,t){e.exports=require("path")},function(e,t,r){function n(e){return r(o(e))}function o(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./loaders":6,"./loaders.js":6,"./loggers":13,"./loggers.js":13,"./reporters/csv":19,"./reporters/csv.js":19,"./reporters/etalon":20,"./reporters/etalon.js":20,"./reporters/fastest":22,"./reporters/fastest.js":22,"./reporters/json":23,"./reporters/json.js":23,"./util":14,"./util.js":14};n.keys=function(){return Object.keys(s)},n.resolve=o,e.exports=n,n.id=12},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.silent=t.base=void 0;var n=r(5),o=r(14);t.base={onStart:function(e,t){return(0,n.log)((0,o.indent)(1)+"Running "+(0,o.caption)(e,t)+" ...")},onCycle:function(e){var t=e.target;(0,n.log)(""+(0,o.indent)(2)+t+(t.error?n.colors.red(" error"):""))},onError:function(e,t){(0,n.log)(""+(0,o.indent)(1)+n.colors.red("Errors")+" in "+(0,o.caption)(e,t)+":"),e.forEach(function(e){e.error&&(0,n.log)(""+(0,o.indent)(2)+e.name+": "+e.error)})},onComplete:void 0},t.silent={onStart:function(){return null},onCycle:function(){return null},onError:function(){return null},onComplete:function(){return null}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=e.name;return t=y.colors.magenta((0,f["default"])(t)),r?"'"+y.colors.cyan(r)+"' from "+t:t}function s(e){return new Array(2*e+1).join(" ")}function u(e){return(0,d["default"])((0,h["default"])(e,function(e){return(0,x["default"])(e.error)?"passed":"failed"}),{passed:[],failed:[]})}function a(e){e.sort(function(e,t){return t.hz-e.hz})}function i(e){return(0,m["default"])(e)?e:[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.caption=o,t.indent=s,t.split=u,t.sortFastestFirst=a,t.toArray=i;var l=r(15),f=n(l),c=r(4),d=n(c),p=r(16),h=n(p),g=r(17),m=n(g),v=r(18),x=n(v),y=r(5)},function(e,t){e.exports=require("tildify")},function(e,t){e.exports=require("lodash/groupBy")},function(e,t){e.exports=require("lodash/isArray")},function(e,t){e.exports=require("lodash/isUndefined")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"./benchmark-results.csv":arguments[0],t=["name,date,error,count,cycles,hz"];return function(r,n,o){o.storage||(o.storage={path:e,contents:function(){return t.join("\n")}}),t=t.concat((0,s["default"])(r).map(function(e){return'"'+e.name+'",'+e.times.timestamp+',"'+e.error+'",'+e.count+","+e.cycles+","+e.hz}))}};var o=r(3),s=n(o);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(t,r){var n=(0,l.split)((0,s["default"])(t)),o=(0,l.sortFastestFirst)(n.passed),u=n.failed,f=(0,a["default"])(e)?o.name.indexOf(e):0,c=0>f?o[0]:o[f],d=c?c.hz:0;(0,i.log)(""+(0,l.indent)(1)+(0,l.caption)(t,r)+" ("+i.colors.green("passed")+": "+o.length+", "+i.colors.red("failed")+": "+u.length+")"),o.length>0&&((0,i.log)(""+(0,l.indent)(2)+i.colors.green("Passed")+":"),o.forEach(function(e,t){var r=(0,l.indent)(3)+"'test.name'";f>t?r+=" at "+(e.hz/d).toFixed(2)+"x faster":f>t?r+=" at "+(d/e.hz).toFixed(2)+"x slower":(r+=" is etalon",r=i.colors.yellow(r)),(0,i.log)(r)})),u.length>0&&((0,i.log)(""+(0,l.indent)(2)+i.colors.red("Failed")+":"),u.forEach(function(e){return(0,i.log)(""+(0,l.indent)(3)+e.name+": "+e.error)}))}};var o=r(3),s=n(o),u=r(21),a=n(u),i=r(5),l=r(14);e.exports=t["default"]},function(e,t){e.exports=require("lodash/isString")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return function(e){var t=(0,l.sortFastestFirst)((0,l.split)((0,a["default"])(e)).passed);if(0===t.length)(0,i.log)((0,l.indent)(1)+"No passed tests");else if(1===t.length)(0,i.log)((0,l.indent)(1)+"Only test passed: "+t[0]);else{var r=t[0],n=t[1],o=r.hz/n.hz,u=s["default"].formatNumber(+o.toFixed(2>o?2:1));(0,i.log)((0,l.indent)(1)+"Fastest test is '"+r.name+"' at "+u+"x faster than '"+n.name+"'")}}};var o=r(1),s=n(o),u=r(3),a=n(u),i=r(5),l=r(14);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"./benchmark-results.json":arguments[0],t=[];return function(r,n,o){o.storage||(o.storage={path:e,contents:function(){return JSON.stringify(t)}}),t.push({name:r.name,results:(0,s["default"])(r).map(function(e){return{name:e.name,times:e.times,stats:e.stats,error:e.error,count:e.count,cycles:e.cycles,hz:e.hz}})})}};var o=r(3),s=n(o);e.exports=t["default"]}]);
//# sourceMappingURL=gulp-benchmark.min.js.map